webpackJsonp([1],{"0AzE":function(e,t){},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("7+uW"),n=s("Dd8w"),i=s.n(n),r=s("NYxO"),o={name:"App",data:function(){return{logName:""}},methods:i()({},Object(r.b)(["setUsername","logOut"]),{setName:function(e){this.setUsername(e),this.logName=""}}),computed:i()({},Object(r.c)({userName:"getUsername"}))},c={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:""==e.userName,expression:" userName == '' "}],staticClass:"confirm"},[s("label",{attrs:{for:"name"}},[e._v("login")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.logName,expression:"logName"}],staticClass:"confirm__input",attrs:{id:"name",type:"text",placeholder:"請輸入姓名"},domProps:{value:e.logName},on:{input:function(t){t.target.composing||(e.logName=t.target.value)}}}),e._v(" "),s("button",{staticClass:"confirm__send",on:{click:function(t){e.setName(e.logName)}}},[e._v("send")])]),e._v(" "),e.userName?s("nav",{staticClass:"navbar navbar-expand-sm navbar-dark bg-dark"},[e._m(0),e._v(" "),s("div",{staticClass:"collapse navbar-collapse",attrs:{id:"goto"}},[s("ul",{staticClass:"navbar-nav  mr-auto"},[s("li",{staticClass:"nav-item active"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/"}},[e._v("Home")])],1),e._v(" "),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/todo"}},[e._v("Todo")])],1),e._v(" "),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/chatroom"}},[e._v("Chatroom")])],1),e._v(" "),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/photo"}},[e._v("Photo")])],1)])]),e._v(" "),s("div",{attrs:{id:"Text"}},[s("h5",{staticClass:"navbar-text mr-3"},[e._v("\n          Hi,"+e._s(e.userName)+"\n        ")]),e._v(" "),s("button",{directives:[{name:"show",rawName:"v-show",value:e.userName,expression:" userName "}],staticClass:"logout",on:{click:e.logOut}},[e._v("logout")])])]):e._e(),e._v(" "),e.userName?s("router-view"):e._e()],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#goto","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"}},[t("span",{staticClass:"navbar-toggler-icon"})])}]};var u=s("VU/8")(o,c,!1,function(e){s("bCfa")},null,null).exports,l=s("/ocq"),m={data:function(){return{}},computed:i()({},Object(r.c)({userName:"getUsername"}))},v={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"hello"},[s("div",{staticClass:"content"},[s("h1",[e._v("Welcome Back!"),s("br"),e._v("\n    "+e._s(e.userName)+"\n    ")]),e._v(" "),s("h4",[e._v("This is your exclusive website.")]),e._v(" "),s("h4",[e._v("Have a nice day!")])])])},staticRenderFns:[]};var d=s("VU/8")(m,v,!1,function(e){s("waLJ")},"data-v-b59f9c6c",null).exports,p={data:function(){return{newItem:"",page:"all",logName:"",show:"",todoList:{}}},mounted:function(){var e=this;e.getRef("todos"),e.userref.on("value",function(t){e.todoList=t.val()})},methods:i()({},Object(r.b)(["userRef"]),{getRef:function(e){this.userRef(e)},addItem:function(){this.userName;var e=Math.floor(Date.now()/1e3);this.userref.child(e).set({timestamp:e,item:this.newItem,status:!1}),this.newItem=""},removeItem:function(e){this.userName;this.userref.child(e).remove()},change:function(e){this.page=e},changeStatus:function(e){this.userName;var t=this.userref.child(e);t.once("value").then(function(e){e.val().status?t.update({status:!1}):t.update({status:!0})})}}),computed:i()({},Object(r.c)({userName:"getUsername",userref:"getUserref"}))},f={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"board container-fluid"},[s("h1",[e._v(e._s(e.userName)+"'s todoList")]),e._v(" "),s("div",{staticClass:"main"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newItem,expression:"newItem"}],staticClass:"main__input",attrs:{type:"text",placeholder:"輸入代辦事項"},domProps:{value:e.newItem},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.addItem(e.newItem)},input:function(t){t.target.composing||(e.newItem=t.target.value)}}}),e._v(" "),s("div",{staticClass:"main__content"},[s("ul",{directives:[{name:"show",rawName:"v-show",value:"all"==e.page,expression:"page=='all'"}]},e._l(e.todoList,function(t){return s("li",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.status,expression:"todo.status"}],staticClass:"check",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.status)?e._i(t.status,null)>-1:t.status},on:{click:function(s){e.changeStatus(t.timestamp)},change:function(s){var a=t.status,n=s.target,i=!!n.checked;if(Array.isArray(a)){var r=e._i(a,null);n.checked?r<0&&e.$set(t,"status",a.concat([null])):r>-1&&e.$set(t,"status",a.slice(0,r).concat(a.slice(r+1)))}else e.$set(t,"status",i)}}}),e._v(" "),s("div",{class:{active:t.status}},[e._v(e._s(t.item))]),e._v(" "),s("div",{staticClass:"delete",on:{click:function(s){e.removeItem(t.timestamp)}}},[e._v("x")])])})),e._v(" "),s("ul",{directives:[{name:"show",rawName:"v-show",value:"active"==e.page,expression:"page=='active'"}]},e._l(e.todoList,function(t){return t.status?e._e():s("li",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.status,expression:"todo.status"}],staticClass:"check",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.status)?e._i(t.status,null)>-1:t.status},on:{change:function(s){var a=t.status,n=s.target,i=!!n.checked;if(Array.isArray(a)){var r=e._i(a,null);n.checked?r<0&&e.$set(t,"status",a.concat([null])):r>-1&&e.$set(t,"status",a.slice(0,r).concat(a.slice(r+1)))}else e.$set(t,"status",i)}}}),e._v(" "),s("div",{class:{active:t.status}},[e._v(e._s(t.item))]),e._v(" "),s("div",{staticClass:"delete",on:{click:function(s){e.removeItem(t.timestamp)}}},[e._v("x")])])})),e._v(" "),s("ul",{directives:[{name:"show",rawName:"v-show",value:"completed"==e.page,expression:"page=='completed'"}]},e._l(e.todoList,function(t){return t.status?s("li",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.status,expression:"todo.status"}],staticClass:"check",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.status)?e._i(t.status,null)>-1:t.status},on:{change:function(s){var a=t.status,n=s.target,i=!!n.checked;if(Array.isArray(a)){var r=e._i(a,null);n.checked?r<0&&e.$set(t,"status",a.concat([null])):r>-1&&e.$set(t,"status",a.slice(0,r).concat(a.slice(r+1)))}else e.$set(t,"status",i)}}}),e._v(" "),s("div",{class:{active:t.status}},[e._v(e._s(t.item))]),e._v(" "),s("div",{staticClass:"delete",on:{click:function(s){e.removeItem(t.timestamp)}}},[e._v("x")])]):e._e()}))]),e._v(" "),s("ul",{staticClass:"main__tab"},[s("li",{class:{click:"all"==e.page},on:{click:function(t){e.change("all")}}},[e._v("All")]),e._v(" "),s("li",{class:{click:"active"==e.page},on:{click:function(t){e.change("active")}}},[e._v("Active")]),e._v(" "),s("li",{class:{click:"completed"==e.page},on:{click:function(t){e.change("completed")}}},[e._v("Completed")])])])])},staticRenderFns:[]};var g=s("VU/8")(p,f,!1,function(e){s("yPmB")},"data-v-12286b23",null).exports,_=firebase.database().ref("/messages/"),h={data:function(){return{message:"",messages:{}}},mounted:function(){var e=this;_.on("value",function(t){e.messages=t.val()})},methods:{sendMessage:function(){var e=Math.floor(Date.now()/1e3);_.child(e).set({timestamp:e,username:this.userName,message:this.message}),this.message=""}},computed:i()({},Object(r.c)({userName:"getUsername"})),updated:function(){var e=document.querySelector(".board__content");e.scrollHeight>e.scrollTop&&(e.scrollTop=e.scrollHeight)}},b={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"board container"},[s("h1",[e._v("Let's chat")]),e._v(" "),s("hr"),e._v(" "),s("div",{staticClass:"board__content"},[e._l(e.messages,function(t){return s("div",{directives:[{name:"show",rawName:"v-show",value:t.username!=e.userName,expression:"text.username != userName"}],staticClass:"media mb-3"},[s("img",{staticClass:"align-self-start ml-3",attrs:{src:"http://lorempixel.com/80/90"}}),e._v(" "),s("div",{staticClass:"media-body other"},[s("h3",[e._v(e._s(t.username))]),e._v(" "),s("p",[e._v(e._s(t.message))])])])}),e._v(" "),e._l(e.messages,function(t){return s("div",{directives:[{name:"show",rawName:"v-show",value:t.username==e.userName,expression:"text.username == userName"}],staticClass:"media mb-3"},[s("div",{staticClass:"media-body self"},[s("h4",[e._v(e._s(t.username))]),e._v(" "),s("p",[e._v(e._s(t.message))])]),e._v(" "),t.username==e.userName?s("img",{staticClass:"align-self-start mr-3",attrs:{src:"http://lorempixel.com/60/60"}}):e._e()])})],2),e._v(" "),s("div",{staticClass:"input-group content"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入留言內容"},domProps:{value:e.message},on:{input:function(t){t.target.composing||(e.message=t.target.value)}}}),e._v(" "),s("div",{staticClass:"input-group-append"},[s("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"},on:{click:e.sendMessage}},[e._v("Enter")])])])])},staticRenderFns:[]};var N=s("VU/8")(h,b,!1,function(e){s("b4nT")},"data-v-a9e060c8",null).exports,w=firebase.storage().ref(),C=firebase.database().ref("/images/"),k={data:function(){return{uploading:"false",progress:"",imgs:{}}},mounted:function(){var e=this;C.on("value",function(t){e.imgs=t.val()})},methods:{upload:function(e){var t=this,s=e.target.files[0],a=Math.floor(Date.now()/1e3),n=w.child(t.userName+"/"+a).put(s);n.on("state_changed",function(e){t.progress=100*Math.floor(e.bytesTransferred/e.totalBytes),t.prgress<100&&(t.uploading=!0,console.log(t.uploading))},function(e){t.progress="上傳失敗"},function(){n.snapshot.ref.getDownloadURL().then(function(e){var s=Math.floor(Date.now()/1e3);C.child(s).set({filename:s,name:t.userName,imgurl:e})}),t.uploading=!1,t.prgress=""})}},computed:i()({},Object(r.c)({userName:"getUsername"})),updated:function(){}},x={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"board container-fluid"},[s("input",{staticClass:"uploadImg",attrs:{type:"file",accept:"image*"},on:{change:function(t){e.upload(t)}}}),e._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:e.uploading,expression:"uploading"}]},[e._v(e._s(e.progress))]),e._v(" "),s("div",{staticClass:"row"},e._l(e.imgs,function(t){return s("div",{directives:[{name:"show",rawName:"v-show",value:t.name==e.userName,expression:"img.name == userName"}],staticClass:"picture col-sm-3 mt-5"},[s("img",{staticClass:"img-fluid",attrs:{src:t.imgurl}})])}))])},staticRenderFns:[]};var y=s("VU/8")(k,x,!1,function(e){s("T1jy")},"data-v-12eef816",null).exports;s("0AzE");a.a.use(l.a);var A=new l.a({routes:[{path:"/",component:d},{path:"/todo",component:g},{path:"/chatroom",component:N},{path:"/photo",component:y}]});a.a.use(r.a);var U={username:"",userref:""},I={setUsername:function(e,t){(0,e.commit)("username",t)},logOut:function(e){(0,e.commit)("username","")},userRef:function(e,t){(0,e.commit)("userref",firebase.database().ref("/"+U.username+"/"+t))}},$=new r.a.Store({state:U,getters:{getUsername:function(e){return e.username},getUserref:function(e){return e.userref}},actions:I,mutations:{username:function(e,t){e.username=t},userref:function(e,t){e.userref=t}}});s("K3J8"),s("SSNS");a.a.config.productionTip=!1,new a.a({el:"#app",router:A,store:$,components:{App:u},template:"<App/>"})},SSNS:function(e,t){},T1jy:function(e,t){},b4nT:function(e,t){},bCfa:function(e,t){},waLJ:function(e,t){},yPmB:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.a34be8c63bf9cee374bc.js.map